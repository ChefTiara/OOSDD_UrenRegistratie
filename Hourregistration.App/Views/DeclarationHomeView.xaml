<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Hourregistration.App.Views.DeclarationHomeView"
             Title="Urenregistratie">

    <Grid Padding="20" RowDefinitions="Auto, Auto, *" ColumnDefinitions="3*, 1*">

        <!-- Title -->
        <Label Grid.Row="0" Grid.Column="0"
               Text="Welkom bij de urenregistratie"
               FontSize="22"
               FontAttributes="Bold" />

        <!-- New declaration button top right -->
        <Button Grid.Row="0" Grid.Column="1"
                Text="Nieuwe declaratie aanmaken"
                BackgroundColor="#9BD4A6"
                TextColor="Black"
                CornerRadius="6"
                Padding="14,10"
                HorizontalOptions="End"
                VerticalOptions="Center"
                Clicked="OnNieuweDeclaratieClicked" />

        <!-- Subtitle -->
        <Label Grid.Row="1" Grid.Column="0"
               Text="Wat wilt u doen?"
               FontSize="14"
               TextColor="Gray"
               Margin="0,5,0,15" />

        <!-- Draft box -->
        <Border 
            Grid.Row="2" Grid.Column="0"
            Stroke="Black"
            StrokeThickness="1"
            BackgroundColor="White"
            Padding="15"
            HeightRequest="350">

            <VerticalStackLayout>
                <Label Text="Concepten"
                       FontAttributes="Bold"
                       FontSize="16" />

                <!-- List of drafts -->
                <VerticalStackLayout BindableLayout.ItemsSource="{Binding Drafts}"
                                     x:Name="DraftsList"
                                     Spacing="10">

                    <BindableLayout.ItemTemplate>
                        <DataTemplate>

                            <Frame Padding="10"
                                   BorderColor="#CCCCCC"
                                   CornerRadius="6"
                                   BackgroundColor="#F8F8F8">

                                <Grid Padding="20" RowDefinitions="Auto, Auto, *" ColumnDefinitions="1*, 1*">
                                    <Label Grid.Row="0" Grid.Column="0"
                                               Text="{Binding Date, StringFormat='Datum: {0:dd-MM-yyyy}'}"
                                               FontSize="13" TextColor="Black"/>

                                    <Label Grid.Row="0" Grid.Column="1"
                                               Text="{Binding WorkedHours, StringFormat='Uren: {0}'}"
                                               FontSize="13" TextColor="Black"/>

                                    <Label Grid.Row="1" Grid.Column="0"
                                               Text="{Binding Reason, StringFormat='Reden: {0}'}"
                                               FontSize="13" TextColor="Black"/>

                                    <Label Grid.Row="1" Grid.Column="1"
                                               Text="{Binding Description, StringFormat='Omschrijving: {0}'}"
                                               FontSize="13" TextColor="Black"/>

                                    <Button Grid.Row="2" Grid.Column="0"
                                            Text="Open concept"
                                            Padding="5"
                                            CornerRadius="4"
                                            BackgroundColor="#A7C6E6"
                                            CommandParameter="{Binding}"
                                            Clicked="OnConceptOpenClicked"/>

                                    <Button Grid.Row="2" Grid.Column="1"
                                            Text="Verwijder"
                                            Padding="5"
                                            CornerRadius="4"
                                            BackgroundColor="#E6A8A8"
                                            CommandParameter="{Binding}"
                                            Clicked="OnConceptDeleteClicked"/>
                                </Grid>
                            </Frame>

                        </DataTemplate>
                    </BindableLayout.ItemTemplate>

                </VerticalStackLayout>

            </VerticalStackLayout>
        </Border>

        <!-- Empty right column -->
        <StackLayout Grid.Row="2" Grid.Column="1" />

    </Grid>
</ContentPage>
